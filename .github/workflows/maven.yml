name: Maven CI/CD

on:
 push:
     branches: [ master ]
 pull_request:
     branches: [ master ]

jobs:
   sonar_scanner:
     name: sonar_scanner
     runs-on: ubuntu-latest
     steps:
       - name: SonarQube Scan
         uses: sonarsource/sonarqube-scan-action@master
         env:
           SONAR_TOKEN: fd602b2c21d011f138512982546480911cac49d2
           SONAR_HOST_URL: http://192.168.88.20:9000 \
        
   build_maven:
     name: build_maven
     runs-on: ubuntu-latest
     steps:
       - uses: actions/checkout@v2
       - name: Set up JDK 14
         uses: actions/setup-java@v1
         with:
          java-version: 14
       - name: Build project with Maven
         run: mvn -B package --file pom.xml
